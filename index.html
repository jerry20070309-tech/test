<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>âš¡ SNIPER V12.0 | å®Œæ•´é‹è¡Œç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #050505; color: #FFD700; font-family: monospace; }
        .card { background: #0a0a0a; border: 1px solid #1a1a1a; padding: 20px; border-radius: 10px; }
        .sat-mode { border: 2px solid #22c55e !important; }
        .log-box { background: #000; border: 1px solid #333; height: 200px; overflow-y: scroll; font-size: 12px; }
    </style>
</head>
<body class="p-10">
    <h1 class="text-3xl font-black mb-5 text-yellow-500 italic">âš¡ SNIPER V12.0 REAL-TIME</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div id="statusCard" class="card">
            <h2 id="pairName" class="text-xl font-bold mb-2 underline">BTCUSDT</h2>
            <div class="text-4xl font-black mb-4" id="priceDisplay">$ --,---</div>
            <div class="grid grid-cols-2 gap-4 text-sm">
                <div>æŒå€‰è®Šå‹• (B2): <span id="oiChange" class="text-white">0.00</span></div>
                <div>æœ€æ–°æˆäº¤ (P2): <span id="volDisplay" class="text-white">$0</span></div>
            </div>
            <div id="modeTag" class="mt-4 inline-block px-3 py-1 rounded-full text-xs font-bold bg-zinc-800">åµæ¸¬ä¸­...</div>
        </div>

        <div class="card">
            <h3 class="text-red-500 font-bold mb-2 uppercase text-xs">ğŸ›¡ï¸ æˆ°é¬¥æ—¥èªŒ (æ•¸æ“šæ­¸å±¬å­˜æª”)</h3>
            <div id="logContent" class="log-box p-3 text-zinc-400"></div>
        </div>
    </div>

    <script>
        let lastOI = 0;
        const symbol = "BTCUSDT";

        async function updateData() {
            try {
                // æŠ“å–å¹£å®‰æ•¸æ“š
                const res = await fetch(`https://fapi.binance.com/fapi/v1/ticker/24hr?symbol=${symbol}`);
                const oiRes = await fetch(`https://fapi.binance.com/fapi/v1/openInterest?symbol=${symbol}`);
                const data = await res.json();
                const oiData = await oiRes.json();

                const price = parseFloat(data.lastPrice);
                const currentOI = parseFloat(oiData.openInterest);
                const vol = price * parseFloat(data.lastQty);
                const oiChange = lastOI > 0 ? currentOI - lastOI : 0;
                lastOI = currentOI;

                // é¡¯ç¤ºæ•¸æ“š
                document.getElementById('priceDisplay').innerText = `$ ${price.toLocaleString()}`;
                document.getElementById('oiChange').innerText = oiChange.toFixed(2);
                document.getElementById('volDisplay').innerText = `$ ${vol.toFixed(0)}`;

                // é€±å…­é‚è¼¯åˆ¤å®š
                const now = new Date();
                const isSat = now.getUTCDay() === 6; // 6 ä»£è¡¨é€±å…­
                const tag = document.getElementById('modeTag');
                const card = document.getElementById('statusCard');

                if (isSat) {
                    tag.innerText = "ğŸŸ¢ é€±å…­å°ˆå±¬æ¨¡å¼ (æ•¸æ“šå·²æ­¸é¡)";
                    tag.className = "mt-4 inline-block px-3 py-1 rounded-full text-xs font-bold bg-green-900 text-green-100";
                    card.classList.add('sat-mode');
                    saveLog(symbol, vol, "é€±å…­å°ˆå±¬");
                } else {
                    tag.innerText = "âšª ä¸€èˆ¬ç›£æ§æ™‚æ®µ";
                    tag.className = "mt-4 inline-block px-3 py-1 rounded-full text-xs font-bold bg-zinc-800 text-zinc-400";
                    card.classList.remove('sat-mode');
                }

            } catch (e) { console.log("ç­‰å¾…é€£ç·š..."); }
        }

        function saveLog(sym, vol, type) {
            const box = document.getElementById('logContent');
            const time = new Date().toLocaleTimeString();
            box.innerHTML = `<div>[${time}] ${type} | ${sym} æˆäº¤: $${vol.toFixed(0)}</div>` + box.innerHTML;
        }

        setInterval(updateData, 3000); // æ¯ 3 ç§’å°é½Šä¸€æ¬¡æ•¸æ“š
    </script>
</body>
</html>
